
| 필드명       | 크기(Byte) | 설명                                   |
| --------- | -------- | ------------------------------------ |
| Header    | 2        | 고정값 `0xFFFE`                         |
| ID        | 1        | Slave ID (0x00~0xFE), Broadcast=0xFF |
| Data Size | 1        | 데이터 바이트 길이                           |
| Check Sum | 1        | 모든 데이터 합의 NOT 연산                     |
| Mode      | 1        | 명령 구분 코드                             |
| Values    | n        | 명령에 따른 데이터 영역                        |

## 명령 체계 (Command Set Overview)

### 명령 분류

| 구분    | Mode 범위         | 설명                       |
| ----- | --------------- | ------------------------ |
| 제어 명령 | 0x01~0x03       | 위치, 속도, 가감속 제어           |
| 설정 명령 | 0x04~0x0F       | 제어기 설정, 통신 설정, ID, 감속비 등 |
| 특수 명령 | 0x10~0x11       | 공장 초기화, Open-loop 제어     |
| 요청 명령 | 0xA0~0xAA, 0xCD | 피드백 요청                   |
| 응답 명령 | 0xD0~0xFD       | 장치 피드백 및 상태 보고           |

#### PC(MCU) → 컨트롤러

| 구분  | Mode(hex) | BCA, DCA     | SA, SB, SC   | SM(구형 SC)   |
| --- | --------- | ------------ | ------------ | ----------- |
| 1   | 0x01      | 위치．속도 제어     | 위치．속도 제어     | --          |
| 2   | 0x02      | 가감속 위치 제어    | 가감속 위치 제어    | --          |
| 3   | 0x03      | 가감속 속도 제어    | 가감속 속도 제어    | 가감속 속도 제어   |
| 4   | 0x04      | 위치제어기 설정     | 위치제어기 설정     | --          |
| 5   | 0x05      | 속도제어기 설정     | 속도제어기 설정     | 속도제어기 설정    |
| 6   | 0x06      | ID 설정        | ID 설정        | 외부 감속비 설정   |
| 7   | 0x07      | 통신속도 설정      | 통신속도 설정      | 제어 On/Off설정 |
| 8   | 0x08      | 통신 응답시간 설정   | 통신 응답시간 설정   | 위치 초기화      |
| 9   | 0x09      | 모터 정격속도 설정   | 외부 감속비 설정    | 공장 초기화      |
| 10  | 0x0A      | 분해능 설정       | 제어 On/Off설정  | --          |
| 11  | 0x0B      | 감속비 설정       | 위치제어 모드 설정   | --          |
| 12  | 0x0C      | 제어 On/Off 설정 | 위치초기화        | --          |
| 13  | 0x0D      | 위치제어 모드 설정   | 공장 초기화       | --          |
| 14  | 0x0E      | 제어방향 설정      | --           | --          |
| 15  | 0x0F      | 위치 초기화       | --           | --          |
| 16  | 0x10      | 공장 초기화       | --           | --          |
| 17  | 0x11      | Open-Loop 구동 | Open-Loop 구동 | --          |

| 구분  | Mode(hex) | BCA, DCA       | SA, SB, SC     | SM(구형 SC)     |
| --- | --------- | -------------- | -------------- | ------------- |
| 18  | 0xA0      | Ping 요청        | Ping 요청        | Ping 요청       |
| 19  | 0xA1      | 위치 피드백 요청      | 위치 피드백 요청      | 속도 피드백 요청     |
| 20  | 0xA2      | 속도 피드백 요청      | 속도 피드백 요청      | 속도제어기 피드백     |
| 21  | 0xA3      | 위치제어기 피드백 요청   | 위치제어기 피드백 요청   | 통신 응답시간 피드백   |
| 22  | 0xA4      | 속도제어기 피드백 요청   | 속도제어기 피드백 요청   | 외부 감속비 피드백    |
| 23  | 0xA5      | 통신 응답시간 피드백 요청 | 통신 응답시간 피드백 요청 | 제어 On/Off 피드백 |
| 24  | 0xA6      | 모터 정격속도 피드백    | 외부 감속비 피드백     | 펌웨어 버전 피드백    |
| 25  | 0xA7      | 분해능 피드백        | 제어 On/Off 피드백  | --            |
| 26  | 0xA8      | 감속비 피드백        | 위치제어 모드 피드백    | --            |
| 27  | 0xA9      | 제어 On/Off 피드백  | --             | --            |
| 28  | 0xAA      | 위치제어 모드 피드백    | --             | --            |
| 29  | 0xAB      | 제어방향 피드백       | --             | --            |
| 30  | 0xCD      | 펌웨어 버전         | 펌웨어 버전         | 펌웨어 버전        |

#### 컨트롤러 → PC(MCU)

| 구분  | Mode(hex) | BCA, DCA         | SA, SB, SC       | SM(구형 SC)        |
| --- | --------- | ---------------- | ---------------- | ---------------- |
| 31  | 0xD0      | Ping 응답          | Ping 응답          | Ping 응답          |
| 32  | 0xD1      | 위치 피드백 응답        | 위치 피드백 응답        | 속도 피드백 응답        |
| 33  | 0xD2      | 속도 피드백 응답        | 속도 피드백 응답        | 속도제어기 피드백 응답     |
| 34  | 0xD3      | 위치제어기 피드백 응답     | 위치제어기 피드백 응답     | 통신 응답시간 피드백 응답   |
| 35  | 0xD4      | 속도제어기 피드백 응답     | 속도제어기 피드백 응답     | 외부 감속비 피드백 응답    |
| 36  | 0xD5      | 통신 응답시간 피드백 응답   | 통신 응답시간 피드백 응답   | 제어 On/Off 피드백 응답 |
| 37  | 0xD6      | 모터 정격속도 피드백 응답   | 외부 감속비 피드백 응답    | 펌웨어 버전 피드백 응답    |
| 38  | 0xD7      | 분해능 피드백 응답       | 제어 On/Off 피드백 응답 | --               |
| 39  | 0xD8      | 감속비 피드백 응답       | 위치제어 모드 피드백 응답   | --               |
| 40  | 0xD9      | 제어 On/Off 피드백 응답 | --               | --               |
| 41  | 0xDA      | 위치제어 모드 피드백 응답   | --               | --               |
| 42  | 0xDB      | 제어방향 피드백 응답      | --               | --               |
| 43  | 0xFD      | 펌웨어 버전 응답        | 펌웨어 버전 응답        | 펌웨어 버전 응답        |

※ **설정 명령은 기기별로 모드 구분자가 다르다.**
※ BCA와 DCA는 동일하지만, SA, SB, SC는 설정 명령이 다름  
